so in this video we're going to discuss this authentication problem so there have been quite a few questions in the discussion board asking about you know the salt and how do we you thought to protect the password system so it will be answered in this set of video so in the broad view the password management is actually this authentication problem so you need to prove to the system that who you are and you'll claim an ID and you need to prove to the system who you are so there are different Amman certs you could we could use the password basically what you know and it could also be achieved through what you have or what you are for example your fingerprint your iris and Europe biomechanical properties and sometime the authentication can be achieved based on where you are for example if you could enter the room or you could enter a specific place so there are different approaches so we're going to first discussed its most straightforward system that we use everyday which is basically you have an ID and you have a password ok and when you try to log in you need to input the ID and also the password so that the system can verify ok so this is pretty straightforward approach and actually we're using it every day but there is one minor thing we need to answer ok so let's see so let's make the system a relatively straightforward and relatively simple okay so let's see so we have a person and to make things easy we have a PC but it's a laptop okay so I believe everybody has this type of experience so when you try to log in and you'll type you in the password and the from time to time you know you know maybe once per week you will by accident pushing the wrong button you'll remember the wrong password or you know backs it and you set up the number lock or the capital so that you actually input the wrong password so the system will actually you're going to see a logo circling on your screen again again after 10 seconds or so it says wrong password so what does that mean that basically means out the PC actually knows your password well the nose we have to put it in a double coat because it's not as simple as the PC actually know your password we're going to see how it happens okay so now we have a problem what type of information should the computer store in the local hard life to so that we can achieve login authentication so let's look at several mechanisms ok so the first method is pretty straightforward the system store your password and a compare it with the characters that you type in every time you tried a lot so I'm not quite sure whether or not you have tried this type of project but I remember when I take the C programming or Java programming course that's a long time ago we're supposed to design a system that supported Euler login so we use a very very straightforward approach ok we build a table on the left side we have the username on the right side that we have a password and then we just store the password in clear tax week then we'll user name is Alice and the password is ABCD efg ok so when you log in when you log in you type in your username as Alice and you're typing your password as ABCD efg so what will the system do the system we will first look at your username Alice and the search this in this password of fire if there does not there is not a user called Alice existing in this system we were just to reject your login attempt on the contrary after the type in the username and find that there is the other name and we will extract the corresponding entre which is to store the password of this user Alice and then we compare your newly input the password to the store the password if they are the same will let you login if they're not the same we will not let you login pretty straightforward pretty straightforward what's the problem the problem is if the attacker get access to the file you're cooked so let's look at this this will be a file and this file will be stored on the PC why because even if your computer does not have a network connection we should be able to allow you to login right so so there must be something stored on the local disk so this is the local hard drive we store the file so you somehow the bad guy not necessarily to impersonate you to log him but it's with some other Mac needham to get this privilege escalation which he got a raised privilege as the system user or the mini traitor and actually seize the file so if the bad guy actually seize the file then we're good we're we're cooked why because the bad guy will see all the username in all the corresponding password and from now on he can log in as whoever he walked to there's nothing you can prevent from this thing from happening so obviously store the whole password as a clear text it's very simple in a very straightforward but it does not really work well okay so now let's see what is our next approach well people said oh okay so obviously storing the password has clear tax it's not good if the bad guy sees it we're cooked so what about store what about let's store the encryption okay so let's say on this file on this computer we have a huge we have a huge table we said this is the username and this is the encryption of the password okay and now we have LS we have the encrypt of the key of the abcdefg okay we don't have the G space okay so let's say Alice incorrect of the ABCD yes so when I try the login you still log into LS and your password is ABCDE F okay and then we looked at the login you login that's Alice we first search this big table okay to this user named Alice and then look at the right side okay this is your input and this is the encryption reads out of your password everything looks fine so then we need to compare this to obviously those two are that are different because this is encrypted this is clear text so what do we need to do we need to get the key from somewhere then we either encrypt your input so we encrypt ABCD or input ABC you have in compared to the store or we decrypt the store password recover the clear text and compare either way it will work and then if they're the same we will let you log in if they're not the same will not let you log in well looks pretty good there's only one problem so now if the bad guy somehow put his or her hands on for this file he or she will see this is the username this is the encryption without okay he or she will not be able to see the password in clear text so this is definitely something a little bit better than store all the passwords in clear-text however we are facing a problem just like we just have said even if your computer does not have a network connection we should be able to verify your login right that basically means everything here needs to be stored on your local hard drive including this key okay so basically you have this huge file remembering all the username and the encryption result of the password and to verify whether another user login is you need a key for encryption or decryption and you need to store the keys somewhere okay so obviously now you'll have a problem so you don't really solve the problem if the bad guy only look at this file he or she will not be able to figure out what the password however if he or she can know where this key is then we will be able to decrypt everything and the seats already in a password okay so now we've faced this problem where do you put the key you could say that oh ho I could hide the key somewhere really deep you know I store it somewhere in the system file and it's so deep and I give it a name like I count out a JPEG although it's really a key so I can hide it you're perfectly right that you can hide it but remember whatever operating system you're using okay you're gonna hide it somewhere okay then with today's virtualization technology we can put this operating system into a virtual machine and when you have a virtual machine and the host is beneath it the host will actually see and remove every operation this working machine conduct and when every time when somebody tried to login your virtual machine will access a file hiding in the system folder with the name of called icon dot Jia pack and using the host cannot figure that out and we eventually learned that it's a key it will figure it out so in this way storing the key is not really a great idea either okay so then obviously based on the previous discussion quite a few of you have already suggested that hey what about we store the hash without okay so the system will store the hash result of the password and now if the attacker sees the hash value you cannot recover the plaintext so let's look at this approach okay so now here we are going to see the username and a hash of the password so let's look at this now we have Alice and we have hash of the ABCDEF okay so when I try to log in since your username is Alice we will be able to locate you in this big file and then we look at the corresponding entry which is a hash without and this is your input and what we did is we're going to hash whatever string your input and you remember a secure hash function has the beautiful property which is it's a one-way function you can hash but it's impossible for you to reverse it so whatever string your input we can effectively or very fast hash it and then we can compare the hash result of your input to the store password if they're the same you're good to login if you're not is if it's not the same we're going to say oh sorry bad things and you cannot again must be a wrong password so now let's see what the bad guy can do so the bad guy will sum house rule privilege escalation eventually put his or her hands on the file what will he or she sees first she or he or she will see up there is a user named Alice okay so there's a user Alice and this is a hash adult okay if you choose a password that is long enough and secure enough and since the hash function is cannot be reversed cannot be reversed then it's very very difficult for the bad guy to figure out what the password okay so this is definitely some advantage compared to a story in the password as clear text and storing the password as the encryption result however so okay there's several things we want to clarify okay so be very very careful when we see when we say this is a hash function actually many of the operating system design their own one-way function to manager the password so they're not using those that stand out paths then that hash function like md5 sha-1 sha-2 or sha-3 okay they design their own function so if you're interested it you can look at the windows or bento system and see they have a special function a time to actually calculate a Monday result of the password okay so this is definitely some advantage but there is still some potential problems so the first problem let's say it's still not safe under dictionary attack we're going to see the problem and this is the problem so if you're only storing the hash value let's say it's a hash value of the password what type of problems okay so we have the following problems the first a problem that if you're storing the hash is that okay it become a target sorry is target of a forward search attack if you'll recall we actually covered a forward a search attack in the last week or two weeks before videos what type of conditions must be mad so that a bad guy can do for research attack first there is a limiting the number of massacres and a second the bad guy can do exactly the same thing that you can do okay so let's look at this one so the hash function eventually it will get this closed so it's windows will button or whatever operating system you're doing if the bad guy to reverse engineering of your execute executable code they will figure out how is your hash function calculated okay and second is the password okay you remember that in now more and more system require you to set up a password at least 8 to 16 character law it contains more case uppercase numbers and special characters that's very very important why so let's say okay so let's say if you choose an eight character password eight character password and your password must contain lowercase uppercase you have 26 lowercase 26 uppercase digit 10 possible digit and well whatever a number you'll have for those control characters there's a 50 - 60 - so that lets you know let's give it a pretty large number this day this is 100 so for every character in your password you have 100 possible choices and your password is a character law so how many possible password out there how many possible password out there you have 100 toys for every character you have 8 characters so this is 10 to the power of 16 this is this are the possible password space of a eight character password 10 to the power 16 you would say that oh this is pretty big I kind of agree but actually is not big enough let's take a look why I think it's not big enough okay tak so the hash function the bad guy can conduct and at the possible password we have 10 to the power of 16 well it's pretty good but it's not long enough why let's look at this okay so we know that we know that two to the power of 10 is roughly when salad is actually 1024 ok so 2 to the power of 10 is roughly 10 to the power of 3 under this case ok under this case 10 to the power of 16 equals to 10 to the power of 3 times 5 point 3 yeah that's roughly it this is 2 to the power of 10 times 5 point 3 which equals to 2 to the power 53 so you're basically saying oh I'm using a 53 bit key to we're using of 53 bit key to encrypt a message and how secure it is it is okay we know that des is actually using something like a 56 bit key des is 56 bit key and it has been proven that anyone who has $28,000 and one day of time can crack it okay so imagine a 53 bit ski that take one eighths of a day which is exactly three hours to crack so this is definitely not a good idea why basically what the bad guy is well there are ten to the power of 16 possible password right okay here is what I am going to do the bad guy will buy a huge hearted life and we know that this day's the hard drive is really cheap okay what I'm going to do is I'm going to build a huge table on the left side I have to password on the right side I have the hash of the password how large is the table because there are 10 to the power 16 possible password this table will have 10 to the power 16 entries on the left side we have the password on the right side we have hash of the password and then we can generate a complete list and then later if we compromise somebody its password file on the left side you have the username on the right side you have the hash of the password what I'm not going to do I'm going to look at this hash value in my pre-computed table it would be a huge table but I can locate it so if your password is only 8 character long we are going to have a corresponding entry in this table and if we find the entry that the path the hash of your password and this hash value is exactly the same I just need to look at the left aside that would be your password of your password okay then basically I will generate a huge table and I can use the table for a long time and whoever's password it is if I compromise the file I will be able to crack it okay so this is a very good approach for the bad guy it's like compute ones I can use it forever I can use it forever that is why that is why we want you to use the longer password we want you to use the longer password because when you use the longer password this pre-computation overhead will increase exponentially as you use a longer password it becomes harder and harder for the bad guy to do the pre computation and of course there is an overhead associated with a longer password which is basically you cannot remember it okay you can have a really long password but if the user cannot remember it then it's useless okay so that's why people propose a separate okay so this is the first problem the second problem of this storing the hash readout which is also the another problem of this storing the hash without directly of your password is that if by any chance to users choose the same password well it will not happen frequently but from time time you'll see that the same password for example there are many people using one two three four five six or abcdefg yes sir that's their password okay if by any chance the to you the truth the same password the hatch without will exactly be the same okay under that case so you've the bad guy look Heather the username and the password a file and here we choose hash of the password one hash of the password of two you have user 1 user 2 soul and so forth if I see that o path hash of the password 1 and hash of the password can they're the same what do I learn I learned that this to user truth the same password okay I cannot figure out what the password is but I already know they choose the same password so in this way storing the hatch without will unintentionally or will leak some information even if the bad guys cannot compromise the hash function so this is also a potential problem okay  
