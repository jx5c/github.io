good morning everyone and welcome back to 6280 200 class so in the following set of videos we will try to answer two questions or two set of problems the first is how do we defend against Amanda maid attack since by now we have introduced quite a few examples of men Demeter attack so we want to figure out or we follow these castes how can we defend against it the second problem is there has been a few questions in the discussion forum and also in the email list of how the salt and the how the salt is working in the password system so we're going to try to answer that question as well so for the defense against the middle attack there are actually two set of approaches today we're going to introduce only one of them the reason is the second approach using public key certificate which needs a lot of extra effort ok so we're going to introduce the public key certificate in a separate video because it directly involved the web security and your browser security okay so let's look at the slides so you can see in the earlier of this week we posted an Bernays two videos discussing key exchange among different parties they can either go through trustee the third party using cement weak encryption only or they can go through the asymmetric encryption algorithm with public private key pairs okay so let's look at the slides in most a system we distinguish the short term keys from the long term keys so there is a very straightforward example to explain what do we mean by so let's say so we have a person and of course we have a laptop and let's say we have the UNCA server for a system network so for your information UNCA servers are located in the basement room of our library okay so let's say your UNCC student so you have a UNCC ID and a password okay and of course our requirement is that every three months is you need to change it ok let's look at another case so let's say you look into this computer with your UNCC ID and the password and when you log in you see a c drive which is the local drive on this computer and also you see an H drive yeah I hope it's a CH drive for the student I'm not sure for the faculty members we have H 2012 and nights drive we put different things on it so the H Drive you can actually put some file onto it so in this way wherever you go if you log in with your UNC CIT you can see you you always can see the files on the H drive so you can add it ok so obviously all the files that you store on H Drive are actually here at UNCG server ok this is your H Drive and when you log into this machine and you see the H Drive and then if you see a PDF file or a Word file you can double click it it will open so we can see that the file F is actually transferred from the UNCG servers through the network to your computer so that you can see it ok so now the question is is the file transmitted in clear text or encrypted and sincerely hope it's encrypted and I believe it is encrypted and I think all the users will be very happy to see their files are actually transmitted as an encrypted file ok so now we have a problem so you have a password and of course if the file is transmitted from the unity server to your computer through the network and if the file is encrypted that means there is a key okay we have introduced the a cementery encroach algorithm is still something like 1000 or Athleta so 100 times slower than the asymmetric encryption algorithm so actually when the system transmitted a file transmitted the file is actually using cementery encryption algorithm and we said this it's a key shared between the server and of the PC okay and this key is dynamically generated after you log in between your PC and the server and this key will be used for a relatively short period of time what does that mean the key is generated when you log in with your ID and your password and so the PC and server generate a key and this key is used for secure communication between them and the most of the time this key between the server and your PC will have a lifetime so what does that mean that basically means the key will used for either a certain period of time or the key will be discarded when you log out so let's say you log in to this machine you check your email and then you're added a few files it's only for one hour after one hour you log out to the machine and so as you log out of the machine the PC and the server will drop out this key the key will be discarded and then let's say you go to the bathroom you've got a cup of coffee after half an hour you come back you go to the library logging into another PC and start editing your file get that PC you're still using your ID and password to log in but that PC will generate a brand new server and the PC pass a key between that PC and the server and transmitter the final game okay so let's say we always see people log into a machine that forget to logout and if nobody touch the machine they can keep logging in for I don't know 72 hours of course so the screen is locked but it's always there under that case most of time the key is tablished at between the PC and the VNC server we'll have a lifetime associated with it for example every 24 hours so let's say you keep logging in at your machine and there was a key established between the Machine and UNC the server is started transmit file after 24 hours after 24 hours this key will be discarded again and replaced with a new key so how do they do that there are different ways you can either using the old key to encrypt sorry the new key so both sides the PC and the server has this key KSP and now the lifetime expires and we need to establish a new key what do we do the server will generate a new key KSP we call the KSP Prime and we use the old key to encrypt the new key KP prime so the Machine the PC will receive the encrypted message and since the machine has this key KSP it can open this encrypted message again to get the new secret and this new secret will be used to cleanse me to the file back and forth again this new secret will have another 24 hours 24 hours lifetime so in this way we differentiate two types of keys so let's go back to this and explain it so in most that system we distinguish the short term keys from the long term keys so in this specific example so in this subsidy number we have a short-term key and we have a long term key what is the long term key long term key is your password and what is the short term key the short term key is the KSP established between the server and the machine that you login okay so the short term key will be used for relatively short of time just during this conversation so we called a session key and the long term key is used to describe build a session key for example in the password after login the machine and that the server will actually yield a variation of the diffie-hellman to build this KSP okay so what's the goal the goal is to reduce the amount of traffic encrypted by every secret okay so what we mean by this so let's go back and take a quick look at so let's see Oh okay so let's go back so this is your PC this is the network and of course here you have the server okay so you login for your password with your password and you will say that well I have to turn my password every three months so this is really short of time of course for from the user convenience point of view three months will cost you some trouble but we're going to see later this will actually help you okay and then we have a key ASP to encrypt the files so remember when you log in and after the machine and the server actually stablish a key they will started to communicate so it could be that you are only editing a small file or it's very possible that the machine and the server will transmit a large amount of data okay when they do that if I am the bad guy I'm the eavesdropper if I'm the bad guy I'm leave dropper I will actually see a whole lot of data traffic encrypted by the same key and in our previous videos we have introduced okay if the bad guys got a whole lot of traffic encrypted by the same key this is actually in their advantage to compromise the secret key so that's why the reason that we want to differentiate this session key and this long term key is actually to reduce the amount of traffic that encrypted by each key it should secret so you increase the some data files and after a while we're going to refresh this session key and you are going to gather the new keys and we are going to use the new key to deliver the data so for every specific key you will have a limited amount of effec encrypted by that key and it would be very hard for the bad guy to compromise and another benefit is that even if the bad guy compromised so let's say the bad guy god forbid after three months of computation compromises KSP okay if we only use KSP to encrypt the traffic for two hours that basically means oh the bad guy will only be able to decrypt all the traffic encrypted by the KSP which will cover the communication history of two hours on the contrary if you use KSP for one whole week that basically means if I compromised as ki I will get your whole week communication record so from the damage control point of view using a short term key and a refresh it from time to time will actually provide you a lot of benefit okay so this is basically what we try to introduce here and we discusses key exchange so the tamper nice video actually discussed this key exchange using the symmetric cryptography and we also provide a commenting video and so in the next set of slides we're going to discuss the interlock protocol and how do we defend against the man-made attack okay see you in the next video  
