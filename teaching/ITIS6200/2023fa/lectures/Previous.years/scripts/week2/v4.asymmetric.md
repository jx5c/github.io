https://www.youtube.com/watch?v=hAC2JOrawVg

Introduction hi welcome to today's lecture on a symmetric key cryptography also known as public key cryptography now asymmetric and public key cryptography is is something that a technique that we're going to end up using to solve a lot of the problems that we've talked about so far that we've had with existing cryptographic solutions so asymmetric key crypto is going to give us a powerful tool for fixing a lot of issues that we've been dealing with so public key crypto allows you to encrypt with one key and have someone else decrypt the message with a different key this is an important thing about public key crypto there's two keys when you encrypt with one you decrypt with the other and this has two main uses first is confidentiality I can use this to send secret messages to someone and the other is integrity I can use this to ensure that something wasn't modified or to prove who created it and those two are really very similar claims so you may recall from the intro to Recall... modern cryptography lecture the public key crypto is a cryptographic technique where both parties in the communication used different keys so for example in this case Bob has a private and a public key that he's generated on his own and his public key is public it's known to the whole world and his private key is private it's known only to him and if Alice wants to send Bob a message she takes her secret message she wants to send him and she encrypts it with his public key that produces the ciphertext she sends that to Bob and Bob decrypt it with his private key to get back to the original message now this is very different from symmetric key crypto where both people use the same key in this case they use different keys one which is publicly known by the whole world and one which is privately held by just one person so public and private Public and Private keys? keys how does this work so the two keys are mathematically related and they so that you can encrypt with one and decrypt with the other and it's similar to the mathematics used in the diffie-hellman key exchange in fact some public key cryptosystems are built on the same mathematics as the feel monkey exchange and others are built on similar mathematics in a public and private key world every user has to piece a public key and a private key the public key is not a secret and anyone can happen in fact the more people that have it the better and a private key is a secret only the owner can have it if the owner loses or somehow has their private key stolen from them that's a major issue so we have the two keys public and private so what sort of Asymmetric Encryption encryption can we do in an asymmetric system well you can encrypt with the public key so in this case let's say that someone wanted to encrypt a message and they encrypt it with Alice's public key and they get a cipher text in that case it needs to be decrypted with Alice's private key because the two keys are paired the public and private key so if you encrypt with a public key you decrypt with the corresponding private key the other thing you could do is you could encrypt with the private key so if you encrypt a message with Alice's private key it needs to be decrypted with Alice's public key now these are the only two pairings that work you encrypt with Alice's public key to decrypt with her private key or you encrypt with her private key and decrypt with her public key no other pairings work so you can't encrypt with a private key and decrypt with the same private key or encrypt with a public key and decrypt with the same public key doesn't work that way these are the only two pairings that work for encryption and decryption okay Public Key Crypto for Confidentiality so if I want to use public key crypto for confidentiality we need to send a secret message what do I do well if Alice wants to send a secret message to Bob then she computes the ciphertext by encrypting with Bob's public key the message and she sends it to Bob and Bob decrypt sit by decrypting with his private key that's fairly straightforward if you want to send Bob a secret message you encrypt it with his public key and he will decrypt it with his private key okay so who can perform the decryption of this message only Bob with his private key no one else can decrypt the message because no one else has Bob's private key who can perform the encryption well anyone because Bob's public key is public and that's the only thing you need in order to encrypt so anyone can encrypt a message too to Bob but only Bob can decrypt it that sounds pretty good actually you know we just spent a whole lecture talking about how to how to securely exchange a symmetric key when using public key cryptography like this we wouldn't even need to right I mean you could just encrypt the message with Bob's public key send it to him and he's the only one who can decrypt it so in that case I just went one direction Alice sending a message to Bob what if Bob wants to reply to Alice well then he would encrypt the message with Alice's public key he would just follow the exact same protocol but in Reverse so if Alice wants to send a message to Bob she encrypts it with Bob's public key if Bob wants to send a message to Alice he encrypts it with Alice's public key well there's some problems with this problem number one is that public key cryptography is very slow for example for decryption AES which is a symmetric cipher can encrypt at 100 megabytes per second or faster actually depending if there's hardware support and how fast the CPU is on that same machine where AES is 100 megabyte megabytes per second RSA is 1 megabyte per second so it's a hundred times slower that's not good you know so if you have a 200 megabyte file that you want to encrypt and send to somebody you can encrypt it in AES in two seconds or you can encrypt it in RSA in 200 seconds so that's probably not good so something like RSA a public key system is not good for large files that would be actually absolutely horrible actually to try and send big files that are encrypted with a public key cryptosystem how do we solve this well Problem #1 Solution we can combine symmetric and asymmetric tools and use both of their strengths symmetric key crypto is fast but we don't have we don't really have good ways to share keys and asymmetric crypto is slow but allows us this great way to send a message to a specific person so what do we do well if Alice wants to send Bob a message and it's big she chooses a random symmetric key she computes the ciphertext where she does a symmetric encryption of that message so maybe she uses AES or something like that and she sends that ciphertext to Bob now Bob can't decrypt it because he doesn't have the key so she encrypts the key with Bob's public key she sends that to Bob the key is small right it's only 128 bits the encrypted file might be huge it might be multiple gigabytes but the key she used to encrypt it with AES is small so this public key crypto function will finish quickly because it's a small amount of data and then she sends that to Bob as well so Bob uses his bra his private key to decrypt ciphertext to and he from that he gets the key K that was used to a AES encrypt the message and he uses that to decrypt it the first ciphertext so this uses the strengths of both types of encryption to get the advantages of both most cryptography on the Internet is based in part on this concept so if you use SSL or HTTPS or something like that in your web browser underneath it's performing symmetric key cryptography which is fast to encrypt the data that you're transmitting but it used a symmetric cryptography to transmit and choose the key okay there's Problem #2 another problem with this in order to understand this problem we're gonna have to add yet another character to our cryptographic games and this character is going to be Mallory Mallory is a malicious attacker who can intercept and modify messages so from the last lecture we talked about Eve who was an eavesdropper who just looked at messages Eve was a passive attacker Mallory is an active attacker Mallory intercepts and modifies okay so if Mallory's there what is our protocol look like okay so Alice does what she did before she can she encrypts her message with Bob's public key and she sends it to Bob well on its way to Bob Mallory intercepts it and throws it away not too bad Alice your message is never getting to Bob instead she takes an evil message she encrypts that with Bob's public key and she sends that to Bob instead Bob happily decrypts the message and he can't tell this from Alice because there's nothing about the message that says who it's from they can't be forged so Malory in this case is able to send a message to Bob because anyone can send a message to Bob and Bob can't tell that Malory threw away alice's message and replaced it with a different one so this happens Problem Explained because the current technique I just described provides confidentiality for the data when you encrypt it with someone's public key and sent it to them it's confidential because in this case Malory couldn't read the message from Alice so even though Malory intercepted it Malory can't read it because she doesn't have Bob's public Bob's private key and only Bob's private key can decrypt that message so she can't read it but she can throw it away so she throws it away and she can replace the message because anyone can send a message and encrypt it properly to Bob because Bob's public key is public so this means that we provide confidentiality the message was never read by Malory but we don't provide integrity bob has no way to know that the message he received was a replaced version of what Alice actually sent so what's our solution to this well how can we use public key cryptography to verify integrity that's the next answer so Public Key Crypto for Integrity maybe Alice wants to send a message to Bob that proves it was from her for the moment we're not going to consider confidentiality at all the message is not a secret but the important thing is that Alice wants Bob to know for certain that it came from her and that it wasn't replaced by anybody else so she's going to compute an encryption with her private key of the message and we'll call it des she's gonna send that to Bob Bob is going to decrypt it by decrypting with Alice's public key and he's going to get the original message so who can perform the encryption here we'll only Alice because it involves her private key she's the only person on the planet who can produce des but who can decrypt anyone because Alice's public key is public that's why I say there's no cop in geology here Alice sent this message that only she can encrypt but anyone can decrypt Bob Mallory anybody but the important thing here is that only Alice could have produced it so when Bob decrypt the message using Alice's public key he knows the messages from Alice because only Alice could have made it that message can only exist if someone used Alice's private key to create it so that implies that Alice was the one who created the message like I said this does not guarantee confidentiality and we call this a digital signature because we're not providing confidentiality of any sort but really alice is simply signing the message to prove it's from her she's simply saying this letters from me and she adds her digital signature using her private key now I Speed Problem for Integrity mentioned before there was a speed problem when we used public key cryptography for confidentiality do we have the same problem we use it for integrity what if you want to sign a really large file yes we have the same problem so it would be way too slow to sign a large file because public key cryptography is slow instead what we do is we sign a hash of the file so you hash the very large file say using sha-1 that gets you a 160 bit hash and you sign the hash and then you send both all of that to the other party so if I sign a hash of the file what I'll do is I'll send the other person the original file and my signed hash and they can verify it because they can decrypt those signed hash and make sure that that hash matches a hash that they calculate of the original message so let's look now at an actual real-world public key cryptography system and we're gonna and it's called RSA this was actually the first public key cryptosystem it was invented by Rivest Shamir and Adleman and any bit size is actually okay so remember with AES or other symmetric key ciphers your bits you only had certain choices for block size and for key size and things like that in RSA any sizes okay when it was released 512 bits was standard but now 2048 or 4096 bits is standard it's just that computers have gotten faster and so people feel like you need a larger bit size now you'll notice that these are significantly larger bit sizes than we saw when we were looking at symmetric key crypto I'll address that at the end of this lecture so the security of RSA is based on prime numbers and factoring similar mathematics to what we looked at with diffie-hellman in RSA the public key is the product of two prime numbers and the private key is those two prime numbers and then the the actual way you perform the encryption of the decryption involves keeping the using those two prime numbers so we're not going to go into the details of the encryption methodology for RSA I went into some details on diffie-hellman just to give you some mathematics but for RSA we're not gonna do those details okay so how RSA: Security secure is RSA what's its security based on well if factoring large numbers is easy then RSA is easy to break if factoring large numbers is hard then RSA is hard to break because remember the public key for RSA is a large number that's the product of two primes the private key is those two primes so an attacker wants to learn the private key would need to be able to factor the public key to get those two prime numbers so if you can factor large numbers easily then you can break RSA but right now we have strong reasons to believe that factoring large numbers is hard but we can't prove it there's no mathematical proof demonstrating that factoring large numbers is actually computationally hard we strongly suspect it there's lots of reasons to think it might be true but we don't have a formal mathematical proof which means that if tomorrow somebody announces that they found an easy way to factor large numbers modern cryptography is in a lot of trouble so in this case when you're breaking RSA if you're trying to brute force RSA you're basically trying to factor the public key into two prime numbers which is hard and slow ok so now Note on Bit Size here's a note on bit size in symmetric key crypto the key size is given in bits so if I say AES 128 what that usually means is I'm gonna use AES with a 128-bit key and if we've already talked about in class 128 bits measures the key space which is the number of pots keys if there's 128-bit key for a yes then there are two to the 128 possible keys in in the RSA for example for an asymmetric key crypto the prime number size is what's given in bits RSA 2048 means RSA is using 2048 bit prime numbers to create public and private keys it has nothing to do with the key space so there's really no way to give good comparisons between symmetric and asymmetric security just based on key size you can't do it the key size numbers are measuring totally different things so it's not a useful comparison but sometimes you'll find shady companies to try to sell you things claiming it's more secure because it uses RSA with 4096 bits and that's better than your a EES with 128 bits well that's nonsense because it doesn't you can't actually directly compare them it's two totally different measurements Summing Up so summing up public key crypto involves two keys that are mathematically related and when you encrypt with one key you need to decrypt with the other and when using them you need to be careful to make sure you know whether you're providing confidentiality integrity or both I want to point out that in this lecture I showed you how to use public key cryptography for confidentiality and I showed you how to use it for integrity but I didn't show you how to use it in a way that would guarantee both at the same time so it would be something good to think about how can I use this to provide both confidentiality and integrity at the same time thanks that's all for now  
