we are going to provide a little bit of more details on the modular calculation and also the protocol de helmet just as the video that we post online suggest diffie-hellman is actually the foundation of quite a few secure communication protocol that are widely yield for e-commerce today so understanding the concept and the procedure of diffie-hellman will actually greatly benefit our course and also the knowledge so first let's talk about the modular calculation okay the modular actually calculates the remainder of a divided calculation for example if you look at the example we provide here so the modular calculation so let's say we have a very simple example we have a selling candy and we have three kids and what you want to do is to give as many candy as possible to every kid at the same time you want to make it affair so you want to give as many candy to the kids but make sure everybody have the same amount of candy at the same time the rule said you cannot cut the candy you cannot have one candy and cut it into three pieces and one server for each you cannot do that you do not have a knife so let's say you have a seven candy you have three kids so how do you do that so you have this thin candy it will say one for you one for you one for you so it's one candy for every kid and you look at your hand you have four candy left it's enough when another round so you have one candy eat one candy one candy after the second around you have only one candy left and every kid have two candies at this moment this candy is not enough for the third around and the rule says you cannot cut the and E and this become the remainder and this is actually the modular readout so you feel look at the board you will notice that look at the screen seven modular three equal to one so you've 7/3 and it equals two but there's one left over and that is the module or result okay and without writing down more equations I will say a few words but I will give you a few more examples for example ten modular five you're trying to divide ten candies among five kids and you want to make sure everybody have the same everybody have the same amount of candy only you will give every kids and all around can be only when there's nothing left or the left over is not enough for a round so you have ten candy five kids so everybody will get two candy and you have nothing so ten modular 5 will equal to zero and similarly certain modular 5 certain modular 530 modeler 5 will give you 3 because every kid will have two will have two candies and you have three left over okay what about 14 modular nine it equals to five because 14 divided by nine it will equal to one and you have five left over so modular five so by now you probably will notice that where you do modular when you do modular n will have X modular M and here n is a large pallet heavy integer the reads out will always give you something from zero to and minus 1 ok so like we just suggest when you have a modular n calculation the final result will be somewhere between 0 and minus 1 so you cannot be somewhat smaller than there also you cannot have you cannot say I Oh candy to the kids okay so the best case for you is 0 the smallest will be 0 and there's no way the modular result will be larger than or equal to n why because if you have n candy or more leftover in your hand you're going to be able to pass around the candy for another round so the result will always be somewhere between 0 and minus 1 so you will never see that Oh X modular 5 equal to 7 so you try to divide the candy amount 5 kids and you have 7 left over you should not have 7 left over because if you have that you got to give everybody another candy and then the final result should be two okay so the modular result can be applied to different scenarios and here we can see we have this power calculation and n modular ok we have two examples here and here we use this upper arrow upper arrow to represent the power calculation so actually this equation resets 3 to the power of 2 and then modular 23 first we calculate a 3 to the power of 2 3 to the power of 2 its throat a 3 square is 9 9 modular 23 so now it's smaller than 23 so you do not have enough candy to even give every kid one single candy so what will be the result you are holding this like candy without giving a ribbon in anything so the final result will be not so finally that Levine aye okay and the let's look at another example three to the power of 4 and their modular 23 okay 3 to the power of 2 is 9 9 to the power of 2 will give you 81 81 modular 20 is 3 you will be able to give every kid 3 candy because 3 candy each 23 kids will be given you 69 and the other Gabriel if you send out 69 candy you have 81 you give out the 69 you have 12 left over so the model result will be 12 with a model retirement so now now let's go back to this this create a logarithm problem based on the video it is suggested that if I have a generator G and a large prime number P and then if I calculate a G to the power of something modular P and I give you the result and it's very hard for you to figure out what is the result okay so in other word let's look at this example so let's say I have three I tell you three and I have you 23 and I'm telling you that okay here I have a three to the power of X modular 23 equal to 12 so my question is what is X what is the value of X you won't say that that's not should not be difficult to write because I can try 3 ^ 1 3 to the power of 2/3 power to the power of 3 so low and so forth I keep going and then eventually I will be able to find it you are perfectly right under this case you can do the brute-force attack which means you can try every possible integer and eventually you will be able to solve it but if you'll remember in homework 2 we give you an example of 128-bit key and we said okay you can definitely try every possible value of those 128-bit key and it will take you concealing years to actually solve it so here is the same thing okay if you have to try every possible value of x and eventually figure out what is X then we can choose a very large prime number and to make sure that you will not be able to finish your job before the Sun explode okay in other words and heal the universe collapse again you will not be able to finish and sulfate under that case we will be secure so fortunately until today this create a logarithm is still considered as a hard problem and there's no efficient way to solve it and that's why here how the diffie-hellman protocol is still holding tight and we can still use it to securely communicate with e-commerce companies such as Amazon so here is basically said I have I can tell you the value of 3 I can tell you the value of 23 I can tell you the value of 12 I just want to ask you what is the value of X and here your real life of course we need to have a huge value here as the prime number and we still have this generator G ok so now let's take a look at what the diffie-hellman protocol tried to achieve so here both party a and the party B know the secret T and at a large prime number P okay they both have the value of generator and a huge prime number P ok so now party a and the party P each generated their own random number Alice will generate the random number RA Bob will generate a random number R be okay and then based on the generator the random value they generate and the huge prime number they reached the generator to the power of RA and RB respectively and they get a value called XA and xB this is like something we encrypt a locally so I have the G of the P I with G to the power of RA and then modular P and I give you the modular result I give you the module every time so now post parties exchange XA and xB okay so what after we save XP from Bob what can a let's do so based on the received XP Alice can again read it to the power of RA okay here I have the money you that RA the random number that Alice generates and Alice have never held has never told anyone what is the value of RA here XA is a calculation result based on RA but not ra itself okay so after we saved the value of xB Alice will reads it to the power of RA again and calculate modular P here let's say so xB if the value IRAs same from Bob I would say from Bob and I read it it ^ ra ra is the value that I generate so I know the value of RA so I can accomplish this calculation xB to the power of RA and then modular P and let's see what is XB XB is actually g ^ RB here Alice does not know the value of RB but he but she does not need to know she already got the value of xB so X be equal to G ^ RB and then again we raise it to the power of RA and then modular P and you can actually figure it out it equals to g ^ ra x RB and then modular P ok so Alice will be able to calculate this value and now this final result depends on both G and the P and those this is a generator this is the large prime number this are the public information and the secret information here included the RA and RB are a is the random number generated by a RV is the random number generated by B remember here Alice never really gather the value of our V in itself she only gets something calculated based on our be ok and the similarly B can read the power read the value of x 8 here XA actually comes from Alice ^ RB RB the random number generated by Bob and their model RP again and that you can write it down you will notice that again Bob will have the value of T to the power of RA times RB and that modular P here RB RV is his own random number array if the random number from Alice so now if you look at this line both parties have successfully calculated a secret the secret depends from the generator a small value a large prime number and the two random numbers generated by them okay so now both party a and party B shared the same key and they can use it to encrypt the traffic so now let's take a look at what are the bad guys if dropper can do okay what did the bad guy the if dropper does not see the value of RA or RB the only thing she or he sees is if the value of XA or XP and XA and xB and we just explained that this these discrete logarithm is actually a hard question in other words getting XA and xB will not allow the bad guy to figure out the random value RA or RB in other words the bad guy will not be able to conduct the similar operation that Alice and Bob conducts and the he or she the bad guy if dropper will not be able to figure out the secret in between will not be able to figure out the secret inhibitor and this is actually the safety of the diffie-hellman protocol and here we posted two videos in this week's session actually we show that the defilement protocol is not vulnerable to this purely if dropper however the bad guy can conduct some active attack which is the main the middle attack we are going to explain more in the class session because we're going to use is simpler example in this meta middle so that gives you a better taste of this man the middle attack but this diffie-hellman protocol if there is no protection on this random number or the value of a today's change or the value of that exchange if there's no protection on the value that they exchange we're going to have trouble and that's why this give you Helmand protocol is actually vulnerable to the men dimino attack so I was doing the class and providing more details on this vulnerability thank you  \
